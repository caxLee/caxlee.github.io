document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".article-card").forEach(async e=>{const t=e.dataset.url;if(!t)return;try{const s=await fetch(t);if(!s.ok)return;const i=await s.text(),a=new DOMParser,r=a.parseFromString(i,"text/html"),o=r.querySelector(".article-content");if(!o)return;const c=o.innerHTML,l=/来源: \[.*?\]\((.*?)\)/,n=c.match(l);if(n&&n[1]){const t=n[1];e.dataset.originalLink=t;const s=e.querySelector(".article-image a");s&&(s.href=t);const o=e.querySelector(".article-title a");o&&(o.href=t);const i=e.querySelector(".article-original-link");i&&(i.href=t)}}catch(e){console.error("Error extracting source URL:",e)}})})